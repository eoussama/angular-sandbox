"use strict";(self.webpackChunkangular_sandbox=self.webpackChunkangular_sandbox||[]).push([[76],{1202:(m,_,o)=>{o.d(_,{M:()=>c});var t=o(4072),a=o(5371),i=o(1830),n=o(433);const u=(r,l)=>({"card--loading":r,"card--favorited":l});function v(r,l){if(1&r){const s=t.RV6();t.j41(0,"span",8),t.bIt("click",function(M){t.eBV(s);const h=t.XpG(2);return t.Njj(h.onFavorite(M))}),t.EFF(1," heart_plus "),t.k0s()}}function e(r,l){if(1&r){const s=t.RV6();t.j41(0,"span",8),t.bIt("click",function(M){t.eBV(s);const h=t.XpG(2);return t.Njj(h.onUnfavorite(M))}),t.EFF(1," favorite "),t.k0s()}}function f(r,l){if(1&r&&(t.qex(0),t.j41(1,"span",2),t.EFF(2),t.k0s(),t.nrm(3,"img",3),t.j41(4,"div",4)(5,"div",5),t.EFF(6),t.k0s(),t.j41(7,"div",6),t.DNE(8,v,2,0,"span",7)(9,e,2,0,"span",7),t.k0s()(),t.bVm()),2&r){const s=t.XpG();t.R7$(2),t.SpI("#",s.superhero.id,""),t.R7$(),t.Y8G("src",s.superhero.image,t.B4B)("alt",s.superhero.name+"'s picture"),t.R7$(3),t.JRh(s.superhero.name),t.R7$(2),t.Y8G("ngIf",!s.superhero.favorite),t.R7$(),t.Y8G("ngIf",s.superhero.favorite)}}let c=(()=>{class r{constructor(s,d){this.router=s,this.favorites=d,this.loader=!1}onFavorite(s){s.stopPropagation(),this.superhero.favorite=!0,this.favorites.favoriteSuperhero(this.superhero.id)}onUnfavorite(s){s.stopPropagation(),this.superhero.favorite=!1,this.favorites.unfavoriteSuperhero(this.superhero.id)}onClick(){this.router.navigate(["dash","superheroes",this.superhero.id])}isFavorited(){return this.superhero?.favorite}getId(){return this.superhero?.id.toString()}static{this.\u0275fac=function(d){return new(d||r)(t.rXU(a.Ix),t.rXU(i.J))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-thumb"]],inputs:{superhero:"superhero",loader:"loader"},standalone:!1,decls:2,vars:6,consts:[[1,"card",3,"click","id","ngClass"],[4,"ngIf"],[1,"card__id"],["loading","lazy",1,"card__image",3,"src","alt"],[1,"card__content"],[1,"card__title"],[1,"card__favorite"],["class","material-symbols-outlined",3,"click",4,"ngIf"],[1,"material-symbols-outlined",3,"click"]],template:function(d,M){1&d&&(t.j41(0,"div",0),t.bIt("click",function(){return M.onClick()}),t.DNE(1,f,10,6,"ng-container",1),t.k0s()),2&d&&(t.Y8G("id","superheroe-"+M.getId())("ngClass",t.l_i(3,u,M.loader,M.isFavorited())),t.R7$(),t.Y8G("ngIf",!M.loader))},dependencies:[n.YU,n.bT],styles:[".card[_ngcontent-%COMP%]{--color-favorite: rgb(223, 93, 93);cursor:pointer;overflow:hidden;position:relative;width:200px;height:280px;border-radius:8px;box-shadow:0 4px 10px #0000006b;transition-duration:.2s;transition-property:transform}.card__id[_ngcontent-%COMP%]{top:10px;left:10px;position:absolute;z-index:1;opacity:.6;color:#fff;text-shadow:2px 2px #000000,-2px -2px #000000;font-size:46px;font-family:Bangers}.card__favorite[_ngcontent-%COMP%]{bottom:4px;right:10px;position:absolute;z-index:1;opacity:0;color:#fff;-webkit-user-select:none;user-select:none;transition-duration:.2s;transition-property:opacity color transform}.card__favorite[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.card__favorite[_ngcontent-%COMP%]:hover{color:var(--color-favorite);transform:scale(1.1)}.card__content[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;left:0}.card__image[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition-duration:3s;transition-property:transform;transition-timing-function:ease-out}.card__title[_ngcontent-%COMP%]{color:#fff;background-color:#272727af;padding:12px 10px;border-radius:5px;font-size:20px;font-weight:300}.card--loading[_ngcontent-%COMP%]{animation-duration:1.5s;animation-name:_ngcontent-%COMP%_loadCard;animation-fill-mode:forwards;animation-timing-function:linear;animation-iteration-count:infinite;box-shadow:0 2px 30px #0001;background-size:100% 200%;background-image:linear-gradient(to bottom,#d8d8d8,#fff,#d8d8d8)}.card--favorited[_ngcontent-%COMP%]{outline:3px solid var(--color-favorite)}.card--favorited[_ngcontent-%COMP%]   .card__favorite[_ngcontent-%COMP%]{opacity:1;color:var(--color-favorite)}.card[_ngcontent-%COMP%]:hover:not(.card--loading){transform:scale(1.05)}.card[_ngcontent-%COMP%]:hover:not(.card--loading)   .card__image[_ngcontent-%COMP%]{transform:scale(1.2)}.card[_ngcontent-%COMP%]:hover:not(.card--loading)   .card__favorite[_ngcontent-%COMP%]{opacity:1}@keyframes _ngcontent-%COMP%_loadCard{0%{background-position-y:0%}to{background-position-y:200%}}"]})}}return r})()},1830:(m,_,o)=>{o.d(_,{J:()=>s});var t=o(646),a=o(593),i=o(1399),n=o(7090),u=o(1327),v=o(8517),e=o(4858),f=o(4278),c=o(4072),r=o(589),l=o(9961);let s=(()=>{class d{constructor(h,p){this.http=h,this.store=p}loadFavorites(h){var p=this;return new Promise(function(){var C=(0,t.A)(function*(O,P){(0,n._)((0,u.p)(h.map(g=>p.http.get(`${i.c.api.superheroes}/${g}`))).pipe((0,v.T)(g=>g.map(b=>new f.e(b,!0))))).then(g=>O(g)).catch(()=>P())});return function(O,P){return C.apply(this,arguments)}}())}favoriteSuperhero(h){var p=this;return new Promise(function(){var C=(0,t.A)(function*(O,P){const g=yield(0,n._)(p.store.select(a.l)),b=yield(0,n._)(p.http.get(`${i.c.api.auth}/users/${g}`)),E=Array.from(new Set([...b.favorites,h])),y={...b,favorites:E};(0,n._)(p.http.put(`${i.c.api.auth}/users/${g}`,y)).then(()=>{p.store.dispatch((0,e.yo)({favorites:E})),O()}).catch(()=>P())});return function(O,P){return C.apply(this,arguments)}}())}unfavoriteSuperhero(h){var p=this;return new Promise(function(){var C=(0,t.A)(function*(O,P){const g=yield(0,n._)(p.store.select(a.l)),b=yield(0,n._)(p.http.get(`${i.c.api.auth}/users/${g}`)),E=Array.from(new Set([...b.favorites,h])).filter(D=>D!==h),y={...b,favorites:E};(0,n._)(p.http.put(`${i.c.api.auth}/users/${g}`,y)).then(()=>{p.store.dispatch((0,e.yo)({favorites:E})),O()}).catch(()=>P())});return function(O,P){return C.apply(this,arguments)}}())}static{this.\u0275fac=function(p){return new(p||d)(c.KVO(r.Qq),c.KVO(l.il))}}static{this.\u0275prov=c.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()},3578:(m,_,o)=>{o.d(_,{V:()=>v});var t=o(1399),a=o(4072),i=o(433),n=o(1202);function u(e,f){1&e&&(a.j41(0,"li",3),a.nrm(1,"app-thumb",4),a.k0s()),2&e&&(a.R7$(),a.Y8G("loader",!0))}let v=(()=>{class e{constructor(){this.items=[],this.count=t.c.pageSize}ngOnInit(){this.generateCards()}ngOnChanges(c){"count"in c&&this.generateCards()}generateCards(){this.items=[...Array(this.count)]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=a.VBU({type:e,selectors:[["app-loader"]],inputs:{count:"count"},standalone:!1,features:[a.OA$],decls:3,vars:1,consts:[[1,"loader"],[1,"items"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[3,"loader"]],template:function(r,l){1&r&&(a.j41(0,"div",0)(1,"ul",1),a.DNE(2,u,2,1,"li",2),a.k0s()()),2&r&&(a.R7$(2),a.Y8G("ngForOf",l.items))},dependencies:[i.Sq,n.M],styles:[".loader[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{display:grid;grid-gap:30px;grid-template-columns:repeat(5,1fr);margin:0;padding:0;list-style-type:none}"]})}}return e})()},4278:(m,_,o)=>{o.d(_,{e:()=>a});var t=o(5870);class a{constructor(n,u=!1){this.name=n?.name??"",this.id=parseInt(n?.id??""),this.image=n?.image?.url??"",this.occupation=n?.work?.occupation??"",this.bases=n?.work?.base?.split(", ")??[],this.race=n?.appearance?.race??"",this.gender=n?.appearance?.gender??"",this.eyeColor=n?.appearance?n?.appearance["eye-color"]??"":"",this.hairColor=n?.appearance?n?.appearance["hair-color"]??"":"",this.height=parseInt(n?.appearance?.height[1]??""),this.weight=parseInt(n?.appearance?.weight[1]??""),this.aliases=n?.biography?.aliases??[],this.publisher=n?.biography?.publisher??"",this.alignment=n?.biography?.alignment??"",this.fullName=n?.biography?n?.biography["full-name"]??"":"",this.alterEgo=n?.biography?n?.biography["alter-egos"]??"":"",this.debute=n?.biography?n?.biography["first-appearance"]??"":"",this.birthPlace=n?.biography?n?.biography["place-of-birth"]??"":"",this.stats=new t.U(n?.powerstats),this.relatives=n?.connections?.relatives?.split(", ")??[],this.affiliations=n?.connections?n?.connections["group-affiliation"]?.split(", ")??[]:[],this.favorite=u}}},4303:(m,_,o)=>{o.d(_,{t:()=>i});var t=o(433),a=o(4072);let i=(()=>{class n{static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275mod=a.$C({type:n})}static{this.\u0275inj=a.G2t({imports:[t.MD]})}}return n})()},5870:(m,_,o)=>{o.d(_,{U:()=>t});class t{constructor(i){this.combat=parseInt(i?.combat),this.durability=parseInt(i?.durability),this.intelligence=parseInt(i?.intelligence),this.power=parseInt(i?.power),this.speed=parseInt(i?.speed),this.strength=parseInt(i?.strength)}}},6096:(m,_,o)=>{o.d(_,{Q:()=>v});var t=o(4072),a=o(433);const i=(e,f,c)=>({"button--full":e,"button--icon":f,"button--loading":c});function n(e,f){if(1&e&&(t.qex(0),t.j41(1,"span",2),t.EFF(2),t.k0s(),t.j41(3,"span",3),t.EFF(4),t.k0s(),t.bVm()),2&e){const c=t.XpG();t.R7$(2),t.JRh(c.icon),t.R7$(2),t.JRh(c.label)}}function u(e,f){if(1&e&&(t.qex(0),t.j41(1,"span",4),t.EFF(2),t.k0s(),t.j41(3,"span",3),t.EFF(4),t.k0s(),t.bVm()),2&e){const c=t.XpG();t.R7$(2),t.JRh(c.loadingIcon),t.R7$(2),t.JRh(c.loadingLabel)}}let v=(()=>{class e{constructor(){this.icon="",this.label="",this.full=!1,this.loading=!1,this.loadingLabel="Loading...",this.loadingIcon="hourglass_top",this.click=new t.bkB}hasIcon(){return this.icon.length>0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-button"]],inputs:{label:"label",icon:"icon",full:"full",loading:"loading",loadingIcon:"loadingIcon",loadingLabel:"loadingLabel"},outputs:{click:"click"},standalone:!1,decls:3,vars:8,consts:[[1,"button",3,"ngClass","disabled"],[4,"ngIf"],[1,"material-symbols-outlined","button__icon"],[1,"button__label"],[1,"material-symbols-outlined","button__icon","button__icon--spin"]],template:function(r,l){1&r&&(t.j41(0,"button",0),t.DNE(1,n,5,2,"ng-container",1)(2,u,5,2,"ng-container",1),t.k0s()),2&r&&(t.Y8G("ngClass",t.sMw(4,i,l.full,l.hasIcon(),l.loading))("disabled",l.loading),t.R7$(),t.Y8G("ngIf",!l.loading),t.R7$(),t.Y8G("ngIf",l.loading))},dependencies:[a.YU,a.bT],styles:[".button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:5px;padding:20px 50px;max-height:45px;color:#fff;background-color:#000;font-weight:400;font-family:Noto Sans Display,sans-serif;transition-duration:.2s;transition-property:background-color outline;display:flex;align-items:center;justify-content:center}.button__icon[_ngcontent-%COMP%]{opacity:0;font-size:22px;min-width:20px;margin-left:-20px;transition-duration:.2s;transition-property:margin opacity}.button__icon--spin[_ngcontent-%COMP%]{opacity:1;margin-left:0;animation-name:_ngcontent-%COMP%_spin;animation-duration:2s;animation-timing-function:linear;animation-iteration-count:infinite}.button__button[_ngcontent-%COMP%]{transition-duration:.2s;transition-property:margin-left}.button[_ngcontent-%COMP%]:disabled{opacity:.8}.button[_ngcontent-%COMP%]:hover{background-color:#141414}.button[_ngcontent-%COMP%]:hover   .button__icon[_ngcontent-%COMP%]{opacity:1;margin-left:0}.button[_ngcontent-%COMP%]:hover   .button__label[_ngcontent-%COMP%]{margin-left:5px}.button[_ngcontent-%COMP%]:not(.button--icon)   .button__icon[_ngcontent-%COMP%]{display:none}.button--full[_ngcontent-%COMP%]{width:100%;padding:20px}.button--loading[_ngcontent-%COMP%]   .button__label[_ngcontent-%COMP%]{margin-left:5px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return e})()},6941:(m,_,o)=>{o.d(_,{i:()=>n});var t=o(433),a=o(7141),i=o(4072);let n=(()=>{class u{static{this.\u0275fac=function(f){return new(f||u)}}static{this.\u0275mod=i.$C({type:u})}static{this.\u0275inj=i.G2t({imports:[t.MD,a.f]})}}return u})()},7141:(m,_,o)=>{o.d(_,{f:()=>i});var t=o(433),a=o(4072);let i=(()=>{class n{static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275mod=a.$C({type:n})}static{this.\u0275inj=a.G2t({imports:[t.MD]})}}return n})()},8951:(m,_,o)=>{o.d(_,{C:()=>i});const i=(0,o(9961).Mz)(n=>n.favorites,n=>n.favorites)}}]);