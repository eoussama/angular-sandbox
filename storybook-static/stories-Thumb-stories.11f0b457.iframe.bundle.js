(self.webpackChunkangular_sandbox=self.webpackChunkangular_sandbox||[]).push([[125],{"./src/app/components/thumb/thumb.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/.pnpm/css-loader@7.1.2_webpack@5.98.0_esbuild@0.25.4_/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/.pnpm/css-loader@7.1.2_webpack@5.98.0_esbuild@0.25.4_/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,'.card {\n  --color-favorite: rgb(223, 93, 93);\n  cursor: pointer;\n  overflow: hidden;\n  position: relative;\n  width: 200px;\n  height: 280px;\n  border-radius: 8px;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4196078431);\n  transition-duration: 0.2s;\n  transition-property: transform;\n}\n.card__id {\n  top: 10px;\n  left: 10px;\n  position: absolute;\n  z-index: 1;\n  opacity: 0.6;\n  color: #ffffff;\n  text-shadow: 2px 2px #000000, -2px -2px #000000;\n  font-size: 46px;\n  font-family: "Bangers";\n}\n.card__favorite {\n  bottom: 4px;\n  right: 10px;\n  position: absolute;\n  z-index: 1;\n  opacity: 0;\n  color: #ffffff;\n  -webkit-user-select: none;\n          user-select: none;\n  transition-duration: 0.2s;\n  transition-property: opacity color transform;\n}\n.card__favorite span {\n  font-size: 30px;\n}\n.card__favorite:hover {\n  color: var(--color-favorite);\n  transform: scale(1.1);\n}\n.card__content {\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  left: 0;\n}\n.card__image {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  transition-duration: 3s;\n  transition-property: transform;\n  transition-timing-function: ease-out;\n}\n.card__title {\n  color: #ffffff;\n  background-color: rgba(39, 39, 39, 0.6862745098);\n  padding: 12px 10px;\n  border-radius: 5px;\n  font-size: 20px;\n  font-weight: 300;\n}\n.card--loading {\n  animation-duration: 1.5s;\n  animation-name: loadCard;\n  animation-fill-mode: forwards;\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n  box-shadow: 0 2px 30px rgba(0, 0, 0, 0.0666666667);\n  background-size: 100% 200%;\n  background-image: linear-gradient(to bottom, rgb(216, 216, 216), #ffffff, rgb(216, 216, 216));\n}\n.card--favorited {\n  outline: 3px solid var(--color-favorite);\n}\n.card--favorited .card__favorite {\n  opacity: 1;\n  color: var(--color-favorite);\n}\n.card:hover:not(.card--loading) {\n  transform: scale(1.05);\n}\n.card:hover:not(.card--loading) .card__image {\n  transform: scale(1.2);\n}\n.card:hover:not(.card--loading) .card__favorite {\n  opacity: 1;\n}\n\n@keyframes loadCard {\n  from {\n    background-position-y: 0%;\n  }\n  to {\n    background-position-y: 200%;\n  }\n}',""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/models/stats.model.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>Stats});class Stats{constructor(model){this.combat=parseInt(model?.combat),this.durability=parseInt(model?.durability),this.intelligence=parseInt(model?.intelligence),this.power=parseInt(model?.power),this.speed=parseInt(model?.speed),this.strength=parseInt(model?.strength)}}},"./src/stories/Thumb.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Loading:()=>Loading,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Thumb_stories});var common_module_Dx7dWex5=__webpack_require__("./node_modules/.pnpm/@angular+common@19.2.17_@angular+core@19.2.17_rxjs@7.8.2_zone.js@0.15.1__rxjs@7.8.2/node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs"),module_JS82OH2B=__webpack_require__("./node_modules/.pnpm/@angular+common@19.2.17_@angular+core@19.2.17_rxjs@7.8.2_zone.js@0.15.1__rxjs@7.8.2/node_modules/@angular/common/fesm2022/module-JS82OH2B.mjs"),ngrx_store=__webpack_require__("./node_modules/.pnpm/@ngrx+store@19.2.1_@angular+core@19.2.17_rxjs@7.8.2_zone.js@0.15.1__rxjs@7.8.2/node_modules/@ngrx/store/fesm2022/ngrx-store.mjs"),dist=__webpack_require__("./node_modules/.pnpm/@storybook+angular@8.6.14_rzfcguyrpn6zd7oqlc2ldmmlaq/node_modules/@storybook/angular/dist/index.mjs"),tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs");var thumb_componentngResource=__webpack_require__("./src/app/components/thumb/thumb.component.scss?ngResource"),thumb_componentngResource_default=__webpack_require__.n(thumb_componentngResource),core=__webpack_require__("./node_modules/.pnpm/@angular+core@19.2.17_rxjs@7.8.2_zone.js@0.15.1/node_modules/@angular/core/fesm2022/core.mjs"),router_Dwfin5Au=__webpack_require__("./node_modules/.pnpm/@angular+router@19.2.17_@angular+common@19.2.17_@angular+core@19.2.17_rxjs@7.8.2_zone.js@0.15_vvr676uyx2gk64ob47j5xagxxi/node_modules/@angular/router/fesm2022/router-Dwfin5Au.mjs"),asyncToGenerator=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.26.10/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");const selectAuthUser=(0,ngrx_store.Mz)((state=>state.auth),(state=>state)),selectAuthUserId=((0,ngrx_store.Mz)(selectAuthUser,(state=>state.username??"")),(0,ngrx_store.Mz)(selectAuthUser,(state=>state.id??""))),environment_api={auth:"http://localhost:3000",superheroes:"https://superheroapi.com/api.php/6686843534726032/"};var FavoritesAction,firstValueFrom=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/firstValueFrom.js"),forkJoin=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/observable/forkJoin.js"),map=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/map.js");!function(FavoritesAction){FavoritesAction.Update="[Favorites] Update",FavoritesAction.Reset="[Favorites] Reset"}(FavoritesAction||(FavoritesAction={}));const update=(0,ngrx_store.VP)(FavoritesAction.Update,(0,ngrx_store.xk)());(0,ngrx_store.VP)(FavoritesAction.Reset);var stats_model=__webpack_require__("./src/app/models/stats.model.ts");class Superhero{constructor(model,isFavorite=!1){this.name=model?.name??"",this.id=parseInt(model?.id??""),this.image=model?.image?.url??"",this.occupation=model?.work?.occupation??"",this.bases=model?.work?.base?.split(", ")??[],this.race=model?.appearance?.race??"",this.gender=model?.appearance?.gender??"",this.eyeColor=model?.appearance?model?.appearance["eye-color"]??"":"",this.hairColor=model?.appearance?model?.appearance["hair-color"]??"":"",this.height=parseInt(model?.appearance?.height[1]??""),this.weight=parseInt(model?.appearance?.weight[1]??""),this.aliases=model?.biography?.aliases??[],this.publisher=model?.biography?.publisher??"",this.alignment=model?.biography?.alignment??"",this.fullName=model?.biography?model?.biography["full-name"]??"":"",this.alterEgo=model?.biography?model?.biography["alter-egos"]??"":"",this.debute=model?.biography?model?.biography["first-appearance"]??"":"",this.birthPlace=model?.biography?model?.biography["place-of-birth"]??"":"",this.stats=new stats_model.U(model?.powerstats),this.relatives=model?.connections?.relatives?.split(", ")??[],this.affiliations=model?.connections?model?.connections["group-affiliation"]?.split(", ")??[]:[],this.favorite=isFavorite}}let FavoritesService=class FavoritesService{constructor(http,store){this.http=http,this.store=store}loadFavorites(favorites){var _this=this;return new Promise(function(){var _ref=(0,asyncToGenerator.A)((function*(resolve,reject){(0,firstValueFrom._)((0,forkJoin.p)(favorites.map((e=>_this.http.get(`${environment_api.superheroes}/${e}`)))).pipe((0,map.T)((e=>e.map((e=>new Superhero(e,!0))))))).then((data=>resolve(data))).catch((()=>reject()))}));return function(_x,_x2){return _ref.apply(this,arguments)}}())}favoriteSuperhero(id){var _this2=this;return new Promise(function(){var _ref2=(0,asyncToGenerator.A)((function*(resolve,reject){const userId=yield(0,firstValueFrom._)(_this2.store.select(selectAuthUserId)),user=yield(0,firstValueFrom._)(_this2.http.get(`${environment_api.auth}/users/${userId}`)),favorites=Array.from(new Set([...user.favorites,id])),newUser={...user,favorites};(0,firstValueFrom._)(_this2.http.put(`${environment_api.auth}/users/${userId}`,newUser)).then((()=>{_this2.store.dispatch(update({favorites})),resolve()})).catch((()=>reject()))}));return function(_x3,_x4){return _ref2.apply(this,arguments)}}())}unfavoriteSuperhero(id){var _this3=this;return new Promise(function(){var _ref3=(0,asyncToGenerator.A)((function*(resolve,reject){const userId=yield(0,firstValueFrom._)(_this3.store.select(selectAuthUserId)),user=yield(0,firstValueFrom._)(_this3.http.get(`${environment_api.auth}/users/${userId}`)),favorites=Array.from(new Set([...user.favorites,id])).filter((e=>e!==id)),newUser={...user,favorites};(0,firstValueFrom._)(_this3.http.put(`${environment_api.auth}/users/${userId}`,newUser)).then((()=>{_this3.store.dispatch(update({favorites})),resolve()})).catch((()=>reject()))}));return function(_x5,_x6){return _ref3.apply(this,arguments)}}())}static{this.ctorParameters=()=>[{type:module_JS82OH2B.Qq},{type:ngrx_store.il}]}};FavoritesService=(0,tslib_es6.Cg)([(0,core.Injectable)({providedIn:"root"})],FavoritesService);let ThumbComponent=class ThumbComponent{constructor(router,favorites){this.router=router,this.favorites=favorites,this.loader=!1}onFavorite(e){e.stopPropagation(),this.superhero.favorite=!0,this.favorites.favoriteSuperhero(this.superhero.id)}onUnfavorite(e){e.stopPropagation(),this.superhero.favorite=!1,this.favorites.unfavoriteSuperhero(this.superhero.id)}onClick(){this.router.navigate(["dash","superheroes",this.superhero.id])}isFavorited(){return this.superhero?.favorite}getId(){return this.superhero?.id.toString()}static{this.ctorParameters=()=>[{type:router_Dwfin5Au.Ix},{type:FavoritesService}]}static{this.propDecorators={superhero:[{type:core.Input}],loader:[{type:core.Input}]}}};ThumbComponent=(0,tslib_es6.Cg)([(0,core.Component)({standalone:!1,selector:"app-thumb",template:'<div\n  class="card"\n  [id]="\'superheroe-\' + getId()"\n  [ngClass]="{\n    \'card--loading\': loader,\n    \'card--favorited\': isFavorited()\n  }"\n  (click)="onClick()"\n>\n  <ng-container *ngIf="!loader">\n    <span class="card__id">#{{ superhero.id }}</span>\n\n    <img\n      loading="lazy"\n      class="card__image"\n      [src]="superhero.image"\n      [alt]="superhero.name + \'\\\'s picture\'"\n    />\n\n    <div class="card__content">\n      <div class="card__title">{{ superhero.name }}</div>\n      <div class="card__favorite">\n        <span\n          *ngIf="!superhero.favorite"\n          class="material-symbols-outlined"\n          (click)="onFavorite($event)"\n        >\n          heart_plus\n        </span>\n\n        <span\n          *ngIf="superhero.favorite"\n          class="material-symbols-outlined"\n          (click)="onUnfavorite($event)"\n        >\n          favorite\n        </span>\n      </div>\n    </div>\n  </ng-container>\n</div>',styles:[thumb_componentngResource_default()]})],ThumbComponent);const Thumb_stories={title:"Components/Thumb",component:ThumbComponent,excludeStories:/.*Data$/,decorators:[(0,dist.moduleMetadata)({imports:[common_module_Dx7dWex5.MD,module_JS82OH2B.q1,ngrx_store.md.forRoot({})],providers:[FavoritesService]})]},Loading={args:{loader:!0}},Default={args:{superhero:new Superhero({id:"1",name:"A-Bomb",powerstats:{intelligence:"38",strength:"100",speed:"17",durability:"80",power:"24",combat:"64"},biography:{"full-name":"Richard Milhouse Jones","alter-egos":"No alter egos found.",aliases:["Rick Jones"],"place-of-birth":"Scarsdale, Arizona","first-appearance":"Hulk Vol 2 #2 (April, 2008) (as A-Bomb)",publisher:"Marvel Comics",alignment:"good"},appearance:{gender:"Male",race:"Human",height:["6'8","203 cm"],weight:["980 lb","441 kg"],"eye-color":"Yellow","hair-color":"No Hair"},work:{occupation:"Musician, adventurer, author; formerly talk show host",base:"-"},connections:{"group-affiliation":"Hulk Family; Excelsior (sponsor), Avengers (honorary member); formerly partner of the Hulk, Captain America and Captain Marvel; Teen Brigade; ally of Rom",relatives:"Marlo Chandler-Jones (wife); Polly (aunt); Mrs. Chandler (mother-in-law); Keith Chandler, Ray Chandler, three unidentified others (brothers-in-law); unidentified father (deceased); Jackie Shorr (alleged mother; unconfirmed)"},image:{url:"https://www.superherodb.com/pictures2/portraits/10/100/10060.jpg"}})}},__namedExportsOrder=["Loading","Default"];Loading.parameters={...Loading.parameters,docs:{...Loading.parameters?.docs,source:{originalSource:"{\n  args: {\n    loader: true\n  }\n}",...Loading.parameters?.docs?.source}}},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    superhero: new Superhero(superhero)\n  }\n}",...Default.parameters?.docs?.source}}}}}]);