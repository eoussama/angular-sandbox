"use strict";(self.webpackChunkangular_sandbox=self.webpackChunkangular_sandbox||[]).push([[592],{7950:(v,u,o)=>{o.d(u,{r:()=>g});var t=o(7029),a=o(3011);function r(s,i){if(1&s&&(t.ynx(0),t.TgZ(1,"span",2),t._uU(2),t.qZA(),t.TgZ(3,"span",3),t._uU(4),t.qZA(),t.BQk()),2&s){const l=t.oxw();t.xp6(2),t.Oqu(l.icon),t.xp6(2),t.Oqu(l.label)}}function n(s,i){if(1&s&&(t.ynx(0),t.TgZ(1,"span",4),t._uU(2),t.qZA(),t.TgZ(3,"span",3),t._uU(4),t.qZA(),t.BQk()),2&s){const l=t.oxw();t.xp6(2),t.Oqu(l.loadingIcon),t.xp6(2),t.Oqu(l.loadingLabel)}}const e=function(s,i,l){return{"button--full":s,"button--icon":i,"button--loading":l}};let g=(()=>{const i=class{constructor(){this.icon="",this.label="",this.full=!1,this.loading=!1,this.loadingLabel="Loading...",this.loadingIcon="hourglass_top",this.click=new t.vpe}hasIcon(){return this.icon.length>0}};let s=i;return i.\u0275fac=function(c){return new(c||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-button"]],inputs:{label:"label",icon:"icon",full:"full",loading:"loading",loadingIcon:"loadingIcon",loadingLabel:"loadingLabel"},outputs:{click:"click"},decls:3,vars:8,consts:[[1,"button",3,"ngClass","disabled"],[4,"ngIf"],[1,"material-symbols-outlined","button__icon"],[1,"button__label"],[1,"material-symbols-outlined","button__icon","button__icon--spin"]],template:function(c,p){1&c&&(t.TgZ(0,"button",0),t.YNc(1,r,5,2,"ng-container",1),t.YNc(2,n,5,2,"ng-container",1),t.qZA()),2&c&&(t.Q6J("ngClass",t.kEZ(4,e,p.full,p.hasIcon(),p.loading))("disabled",p.loading),t.xp6(1),t.Q6J("ngIf",!p.loading),t.xp6(1),t.Q6J("ngIf",p.loading))},dependencies:[a.mk,a.O5],styles:[".button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:5px;padding:20px 50px;max-height:45px;color:#fff;background-color:#000;font-weight:400;font-family:Noto Sans Display,sans-serif;transition-duration:.2s;transition-property:background-color outline;display:flex;align-items:center;justify-content:center}.button__icon[_ngcontent-%COMP%]{opacity:0;font-size:22px;min-width:20px;margin-left:-20px;transition-duration:.2s;transition-property:margin opacity}.button__icon--spin[_ngcontent-%COMP%]{opacity:1;margin-left:0;animation-name:_ngcontent-%COMP%_spin;animation-duration:2s;animation-timing-function:linear;animation-iteration-count:infinite}.button__button[_ngcontent-%COMP%]{transition-duration:.2s;transition-property:margin-left}.button[_ngcontent-%COMP%]:disabled{opacity:.8}.button[_ngcontent-%COMP%]:hover{background-color:#141414}.button[_ngcontent-%COMP%]:hover   .button__icon[_ngcontent-%COMP%]{opacity:1;margin-left:0}.button[_ngcontent-%COMP%]:hover   .button__label[_ngcontent-%COMP%]{margin-left:5px}.button[_ngcontent-%COMP%]:not(.button--icon)   .button__icon[_ngcontent-%COMP%]{display:none}.button--full[_ngcontent-%COMP%]{width:100%;padding:20px}.button--loading[_ngcontent-%COMP%]   .button__label[_ngcontent-%COMP%]{margin-left:5px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),s})()},7673:(v,u,o)=>{o.d(u,{h:()=>r});var t=o(3011),a=o(7029);let r=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[t.ez]}),n})()},9483:(v,u,o)=>{o.d(u,{R:()=>g});var t=o(7055),a=o(7029),r=o(3011),n=o(7833);function e(s,i){1&s&&(a.TgZ(0,"li",3),a._UZ(1,"app-thumb",4),a.qZA()),2&s&&(a.xp6(1),a.Q6J("loader",!0))}let g=(()=>{const i=class{constructor(){this.items=[],this.count=t.N.pageSize}ngOnInit(){this.generateCards()}ngOnChanges(_){"count"in _&&this.generateCards()}generateCards(){this.items=[...Array(this.count)]}};let s=i;return i.\u0275fac=function(c){return new(c||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-loader"]],inputs:{count:"count"},features:[a.TTD],decls:3,vars:1,consts:[[1,"loader"],[1,"items"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[3,"loader"]],template:function(c,p){1&c&&(a.TgZ(0,"div",0)(1,"ul",1),a.YNc(2,e,2,1,"li",2),a.qZA()()),2&c&&(a.xp6(2),a.Q6J("ngForOf",p.items))},dependencies:[r.sg,n.N],styles:[".loader[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{display:grid;grid-gap:30px;grid-template-columns:repeat(5,1fr);margin:0;padding:0;list-style-type:none}"]}),s})()},8760:(v,u,o)=>{o.d(u,{q:()=>n});var t=o(3011),a=o(642),r=o(7029);let n=(()=>{const g=class{};let e=g;return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=r.oAB({type:g}),g.\u0275inj=r.cJS({imports:[t.ez,a.P]}),e})()},7833:(v,u,o)=>{o.d(u,{N:()=>l});var t=o(7029),a=o(5958),r=o(506),n=o(3011);function e(_,c){if(1&_){const p=t.EpF();t.TgZ(0,"span",8),t.NdJ("click",function(h){t.CHM(p);const P=t.oxw(2);return t.KtG(P.onFavorite(h))}),t._uU(1," heart_plus "),t.qZA()}}function g(_,c){if(1&_){const p=t.EpF();t.TgZ(0,"span",8),t.NdJ("click",function(h){t.CHM(p);const P=t.oxw(2);return t.KtG(P.onUnfavorite(h))}),t._uU(1," favorite "),t.qZA()}}function s(_,c){if(1&_&&(t.ynx(0),t.TgZ(1,"span",2),t._uU(2),t.qZA(),t._UZ(3,"img",3),t.TgZ(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",6),t.YNc(8,e,2,0,"span",7),t.YNc(9,g,2,0,"span",7),t.qZA()(),t.BQk()),2&_){const p=t.oxw();t.xp6(2),t.hij("#",p.superhero.id,""),t.xp6(1),t.Q6J("src",p.superhero.image,t.LSH)("alt",p.superhero.name+"'s picture"),t.xp6(3),t.Oqu(p.superhero.name),t.xp6(2),t.Q6J("ngIf",!p.superhero.favorite),t.xp6(1),t.Q6J("ngIf",p.superhero.favorite)}}const i=function(_,c){return{"card--loading":_,"card--favorited":c}};let l=(()=>{const c=class{constructor(f,h){this.router=f,this.favorites=h,this.loader=!1}onFavorite(f){f.stopPropagation(),this.superhero.favorite=!0,this.favorites.favoriteSuperhero(this.superhero.id)}onUnfavorite(f){f.stopPropagation(),this.superhero.favorite=!1,this.favorites.unfavoriteSuperhero(this.superhero.id)}onClick(){this.router.navigate(["dash","superheroes",this.superhero.id])}isFavorited(){return this.superhero?.favorite}getId(){return this.superhero?.id.toString()}};let _=c;return c.\u0275fac=function(h){return new(h||c)(t.Y36(a.F0),t.Y36(r.G))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-thumb"]],inputs:{superhero:"superhero",loader:"loader"},decls:2,vars:6,consts:[[1,"card",3,"id","ngClass","click"],[4,"ngIf"],[1,"card__id"],["loading","lazy",1,"card__image",3,"src","alt"],[1,"card__content"],[1,"card__title"],[1,"card__favorite"],["class","material-symbols-outlined",3,"click",4,"ngIf"],[1,"material-symbols-outlined",3,"click"]],template:function(h,P){1&h&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return P.onClick()}),t.YNc(1,s,10,6,"ng-container",1),t.qZA()),2&h&&(t.Q6J("id","superheroe-"+P.getId())("ngClass",t.WLB(3,i,P.loader,P.isFavorited())),t.xp6(1),t.Q6J("ngIf",!P.loader))},dependencies:[n.mk,n.O5],styles:[".card[_ngcontent-%COMP%]{--color-favorite: rgb(223, 93, 93);cursor:pointer;overflow:hidden;position:relative;width:200px;height:280px;border-radius:8px;box-shadow:0 4px 10px #0000006b;transition-duration:.2s;transition-property:transform}.card__id[_ngcontent-%COMP%]{top:10px;left:10px;position:absolute;z-index:1;opacity:.6;color:#fff;text-shadow:2px 2px #000000,-2px -2px #000000;font-size:46px;font-family:Bangers}.card__favorite[_ngcontent-%COMP%]{bottom:4px;right:10px;position:absolute;z-index:1;opacity:0;color:#fff;-webkit-user-select:none;user-select:none;transition-duration:.2s;transition-property:opacity color transform}.card__favorite[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.card__favorite[_ngcontent-%COMP%]:hover{color:var(--color-favorite);transform:scale(1.1)}.card__content[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;left:0}.card__image[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition-duration:3s;transition-property:transform;transition-timing-function:ease-out}.card__title[_ngcontent-%COMP%]{color:#fff;background-color:#272727af;padding:12px 10px;border-radius:5px;font-size:20px;font-weight:300}.card--loading[_ngcontent-%COMP%]{animation-duration:1.5s;animation-name:_ngcontent-%COMP%_loadCard;animation-fill-mode:forwards;animation-timing-function:linear;animation-iteration-count:infinite;box-shadow:0 2px 30px #0001;background-size:100% 200%;background-image:linear-gradient(to bottom,rgb(216,216,216),#ffffff,rgb(216,216,216))}.card--favorited[_ngcontent-%COMP%]{outline:3px solid var(--color-favorite)}.card--favorited[_ngcontent-%COMP%]   .card__favorite[_ngcontent-%COMP%]{opacity:1;color:var(--color-favorite)}.card[_ngcontent-%COMP%]:hover:not(.card--loading){transform:scale(1.05)}.card[_ngcontent-%COMP%]:hover:not(.card--loading)   .card__image[_ngcontent-%COMP%]{transform:scale(1.2)}.card[_ngcontent-%COMP%]:hover:not(.card--loading)   .card__favorite[_ngcontent-%COMP%]{opacity:1}@keyframes _ngcontent-%COMP%_loadCard{0%{background-position-y:0%}to{background-position-y:200%}}"]}),_})()},642:(v,u,o)=>{o.d(u,{P:()=>r});var t=o(3011),a=o(7029);let r=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[t.ez]}),n})()},9:(v,u,o)=>{o.d(u,{j:()=>t});class t{constructor(r){this.combat=parseInt(r?.combat),this.durability=parseInt(r?.durability),this.intelligence=parseInt(r?.intelligence),this.power=parseInt(r?.power),this.speed=parseInt(r?.speed),this.strength=parseInt(r?.strength)}}},5198:(v,u,o)=>{o.d(u,{j:()=>a});var t=o(9);class a{constructor(n,e=!1){this.name=n?.name??"",this.id=parseInt(n?.id??""),this.image=n?.image?.url??"",this.occupation=n?.work?.occupation??"",this.bases=n?.work?.base?.split(", ")??[],this.race=n?.appearance?.race??"",this.gender=n?.appearance?.gender??"",this.eyeColor=n?.appearance?n?.appearance["eye-color"]??"":"",this.hairColor=n?.appearance?n?.appearance["hair-color"]??"":"",this.height=parseInt(n?.appearance?.height[1]??""),this.weight=parseInt(n?.appearance?.weight[1]??""),this.aliases=n?.biography?.aliases??[],this.publisher=n?.biography?.publisher??"",this.alignment=n?.biography?.alignment??"",this.fullName=n?.biography?n?.biography["full-name"]??"":"",this.alterEgo=n?.biography?n?.biography["alter-egos"]??"":"",this.debute=n?.biography?n?.biography["first-appearance"]??"":"",this.birthPlace=n?.biography?n?.biography["place-of-birth"]??"":"",this.stats=new t.j(n?.powerstats),this.relatives=n?.connections?.relatives?.split(", ")??[],this.affiliations=n?.connections?n?.connections["group-affiliation"]?.split(", ")??[]:[],this.favorite=e}}},506:(v,u,o)=>{o.d(u,{G:()=>p});var t=o(3241),a=o(3805),r=o(7055),n=o(9477),e=o(4395),g=o(1745),s=o(5427),i=o(5198),l=o(7029),_=o(6739),c=o(7476);let p=(()=>{const h=class{constructor(O,d){this.http=O,this.store=d}loadFavorites(O){var d=this;return new Promise(function(){var E=(0,t.Z)(function*(C,M){(0,n.z)((0,e.D)(O.map(m=>d.http.get(`${r.N.api.superheroes}/${m}`))).pipe((0,g.U)(m=>m.map(b=>new i.j(b,!0))))).then(m=>C(m)).catch(()=>M())});return function(C,M){return E.apply(this,arguments)}}())}favoriteSuperhero(O){var d=this;return new Promise(function(){var E=(0,t.Z)(function*(C,M){const m=yield(0,n.z)(d.store.select(a.nR)),b=yield(0,n.z)(d.http.get(`${r.N.api.auth}/users/${m}`)),y=Array.from(new Set([...b.favorites,O])),x={...b,favorites:y};(0,n.z)(d.http.put(`${r.N.api.auth}/users/${m}`,x)).then(()=>{d.store.dispatch((0,s.Vx)({favorites:y})),C()}).catch(()=>M())});return function(C,M){return E.apply(this,arguments)}}())}unfavoriteSuperhero(O){var d=this;return new Promise(function(){var E=(0,t.Z)(function*(C,M){const m=yield(0,n.z)(d.store.select(a.nR)),b=yield(0,n.z)(d.http.get(`${r.N.api.auth}/users/${m}`)),y=Array.from(new Set([...b.favorites,O])).filter(T=>T!==O),x={...b,favorites:y};(0,n.z)(d.http.put(`${r.N.api.auth}/users/${m}`,x)).then(()=>{d.store.dispatch((0,s.Vx)({favorites:y})),C()}).catch(()=>M())});return function(C,M){return E.apply(this,arguments)}}())}};let f=h;return h.\u0275fac=function(d){return new(d||h)(l.LFG(_.eN),l.LFG(c.yh))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),f})()},2202:(v,u,o)=>{o.d(u,{T:()=>r});const r=(0,o(7476).P1)(n=>n.favorites,n=>n.favorites)},3241:(v,u,o)=>{function t(r,n,e,g,s,i,l){try{var _=r[i](l),c=_.value}catch(p){return void e(p)}_.done?n(c):Promise.resolve(c).then(g,s)}function a(r){return function(){var n=this,e=arguments;return new Promise(function(g,s){var i=r.apply(n,e);function l(c){t(i,g,s,l,_,"next",c)}function _(c){t(i,g,s,l,_,"throw",c)}l(void 0)})}}o.d(u,{Z:()=>a})}}]);