"use strict";(self.webpackChunkangular_sandbox=self.webpackChunkangular_sandbox||[]).push([[592],{1354:(m,u,o)=>{o.d(u,{r:()=>h});var t=o(4650),s=o(6895);function a(_,p){if(1&_&&(t.ynx(0),t.TgZ(1,"span",2),t._uU(2),t.qZA(),t.TgZ(3,"span",3),t._uU(4),t.qZA(),t.BQk()),2&_){const e=t.oxw();t.xp6(2),t.Oqu(e.icon),t.xp6(2),t.Oqu(e.label)}}function n(_,p){if(1&_&&(t.ynx(0),t.TgZ(1,"span",4),t._uU(2),t.qZA(),t.TgZ(3,"span",3),t._uU(4),t.qZA(),t.BQk()),2&_){const e=t.oxw();t.xp6(2),t.Oqu(e.loadingIcon),t.xp6(2),t.Oqu(e.loadingLabel)}}const g=function(_,p,e){return{"button--full":_,"button--icon":p,"button--loading":e}};class h{constructor(){this.icon="",this.label="",this.full=!1,this.loading=!1,this.loadingLabel="Loading...",this.loadingIcon="hourglass_top",this.click=new t.vpe}hasIcon(){return this.icon.length>0}}h.\u0275fac=function(p){return new(p||h)},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-button"]],inputs:{label:"label",icon:"icon",full:"full",loading:"loading",loadingIcon:"loadingIcon",loadingLabel:"loadingLabel"},outputs:{click:"click"},decls:3,vars:8,consts:[[1,"button",3,"ngClass","disabled"],[4,"ngIf"],[1,"material-symbols-outlined","button__icon"],[1,"button__label"],[1,"material-symbols-outlined","button__icon","button__icon--spin"]],template:function(p,e){1&p&&(t.TgZ(0,"button",0),t.YNc(1,a,5,2,"ng-container",1),t.YNc(2,n,5,2,"ng-container",1),t.qZA()),2&p&&(t.Q6J("ngClass",t.kEZ(4,g,e.full,e.hasIcon(),e.loading))("disabled",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading),t.xp6(1),t.Q6J("ngIf",e.loading))},dependencies:[s.mk,s.O5],styles:[".button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:5px;padding:20px 50px;max-height:45px;color:#fff;background-color:#000;font-weight:400;font-family:Noto Sans Display,sans-serif;transition-duration:.2s;transition-property:background-color outline;display:flex;align-items:center;justify-content:center}.button__icon[_ngcontent-%COMP%]{opacity:0;font-size:22px;min-width:20px;margin-left:-20px;transition-duration:.2s;transition-property:margin opacity}.button__icon--spin[_ngcontent-%COMP%]{opacity:1;margin-left:0;animation-name:_ngcontent-%COMP%_spin;animation-duration:2s;animation-timing-function:linear;animation-iteration-count:infinite}.button__button[_ngcontent-%COMP%]{transition-duration:.2s;transition-property:margin-left}.button[_ngcontent-%COMP%]:disabled{opacity:.8}.button[_ngcontent-%COMP%]:hover{background-color:#141414}.button[_ngcontent-%COMP%]:hover   .button__icon[_ngcontent-%COMP%]{opacity:1;margin-left:0}.button[_ngcontent-%COMP%]:hover   .button__label[_ngcontent-%COMP%]{margin-left:5px}.button[_ngcontent-%COMP%]:not(.button--icon)   .button__icon[_ngcontent-%COMP%]{display:none}.button--full[_ngcontent-%COMP%]{width:100%;padding:20px}.button--loading[_ngcontent-%COMP%]   .button__label[_ngcontent-%COMP%]{margin-left:5px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})},5632:(m,u,o)=>{o.d(u,{h:()=>a});var t=o(6895),s=o(4650);class a{}a.\u0275fac=function(g){return new(g||a)},a.\u0275mod=s.oAB({type:a}),a.\u0275inj=s.cJS({imports:[t.ez]})},1121:(m,u,o)=>{o.d(u,{N:()=>e});var t=o(4650),s=o(5182),a=o(5454),n=o(6895);function g(c,i){if(1&c){const r=t.EpF();t.TgZ(0,"span",8),t.NdJ("click",function(d){t.CHM(r);const l=t.oxw(2);return t.KtG(l.onFavorite(d))}),t._uU(1," heart_plus "),t.qZA()}}function h(c,i){if(1&c){const r=t.EpF();t.TgZ(0,"span",8),t.NdJ("click",function(d){t.CHM(r);const l=t.oxw(2);return t.KtG(l.onUnfavorite(d))}),t._uU(1," favorite "),t.qZA()}}function _(c,i){if(1&c&&(t.ynx(0),t.TgZ(1,"span",2),t._uU(2),t.qZA(),t._UZ(3,"img",3),t.TgZ(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",6),t.YNc(8,g,2,0,"span",7),t.YNc(9,h,2,0,"span",7),t.qZA()(),t.BQk()),2&c){const r=t.oxw();t.xp6(2),t.hij("#",r.superhero.id,""),t.xp6(1),t.Q6J("src",r.superhero.image,t.LSH)("alt",r.superhero.name+"'s picture"),t.xp6(3),t.Oqu(r.superhero.name),t.xp6(2),t.Q6J("ngIf",!r.superhero.favorite),t.xp6(1),t.Q6J("ngIf",r.superhero.favorite)}}const p=function(c,i){return{"card--loading":c,"card--favorited":i}};class e{constructor(i,r){this.router=i,this.favorites=r,this.loader=!1}onFavorite(i){i.stopPropagation(),this.superhero.favorite=!0,this.favorites.favoriteSuperhero(this.superhero.id)}onUnfavorite(i){i.stopPropagation(),this.superhero.favorite=!1,this.favorites.unfavoriteSuperhero(this.superhero.id)}onClick(){this.router.navigate(["dash","superheroes",this.superhero.id])}isFavorited(){return this.superhero?.favorite}getId(){return this.superhero?.id.toString()}}e.\u0275fac=function(i){return new(i||e)(t.Y36(s.F0),t.Y36(a.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-thumb"]],inputs:{superhero:"superhero",loader:"loader"},decls:2,vars:6,consts:[[1,"card",3,"id","ngClass","click"],[4,"ngIf"],[1,"card__id"],["loading","lazy",1,"card__image",3,"src","alt"],[1,"card__content"],[1,"card__title"],[1,"card__favorite"],["class","material-symbols-outlined",3,"click",4,"ngIf"],[1,"material-symbols-outlined",3,"click"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return r.onClick()}),t.YNc(1,_,10,6,"ng-container",1),t.qZA()),2&i&&(t.Q6J("id","superheroe-"+r.getId())("ngClass",t.WLB(3,p,r.loader,r.isFavorited())),t.xp6(1),t.Q6J("ngIf",!r.loader))},dependencies:[n.mk,n.O5],styles:[".card[_ngcontent-%COMP%]{--color-favorite: rgb(223, 93, 93);cursor:pointer;overflow:hidden;position:relative;width:200px;height:280px;border-radius:8px;box-shadow:0 4px 10px #0000006b;transition-duration:.2s;transition-property:transform}.card__id[_ngcontent-%COMP%]{top:10px;left:10px;position:absolute;z-index:1;opacity:.6;color:#fff;text-shadow:2px 2px #000000,-2px -2px #000000;font-size:46px;font-family:Bangers}.card__favorite[_ngcontent-%COMP%]{bottom:4px;right:10px;position:absolute;z-index:1;opacity:0;color:#fff;-webkit-user-select:none;user-select:none;transition-duration:.2s;transition-property:opacity color transform}.card__favorite[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.card__favorite[_ngcontent-%COMP%]:hover{color:var(--color-favorite);transform:scale(1.1)}.card__content[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;left:0}.card__image[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition-duration:3s;transition-property:transform;transition-timing-function:ease-out}.card__title[_ngcontent-%COMP%]{color:#fff;background-color:#272727af;padding:12px 10px;border-radius:5px;font-size:20px;font-weight:300}.card--loading[_ngcontent-%COMP%]{animation-duration:1.5s;animation-name:_ngcontent-%COMP%_loadCard;animation-fill-mode:forwards;animation-timing-function:linear;animation-iteration-count:infinite;box-shadow:0 2px 30px #0001;background-size:100% 200%;background-image:linear-gradient(to bottom,rgb(216,216,216),#ffffff,rgb(216,216,216))}.card--favorited[_ngcontent-%COMP%]{outline:3px solid var(--color-favorite)}.card--favorited[_ngcontent-%COMP%]   .card__favorite[_ngcontent-%COMP%]{opacity:1;color:var(--color-favorite)}.card[_ngcontent-%COMP%]:hover:not(.card--loading){transform:scale(1.05)}.card[_ngcontent-%COMP%]:hover:not(.card--loading)   .card__image[_ngcontent-%COMP%]{transform:scale(1.2)}.card[_ngcontent-%COMP%]:hover:not(.card--loading)   .card__favorite[_ngcontent-%COMP%]{opacity:1}@keyframes _ngcontent-%COMP%_loadCard{0%{background-position-y:0%}to{background-position-y:200%}}"]})},1251:(m,u,o)=>{o.d(u,{P:()=>a});var t=o(6895),s=o(4650);class a{}a.\u0275fac=function(g){return new(g||a)},a.\u0275mod=s.oAB({type:a}),a.\u0275inj=s.cJS({imports:[t.ez]})},4266:(m,u,o)=>{o.d(u,{j:()=>t});class t{constructor(a){this.combat=parseInt(a?.combat),this.durability=parseInt(a?.durability),this.intelligence=parseInt(a?.intelligence),this.power=parseInt(a?.power),this.speed=parseInt(a?.speed),this.strength=parseInt(a?.strength)}}},663:(m,u,o)=>{o.d(u,{j:()=>s});var t=o(4266);class s{constructor(n,g=!1){this.name=n?.name??"",this.id=parseInt(n?.id??""),this.image=n?.image?.url??"",this.occupation=n?.work?.occupation??"",this.bases=n?.work?.base?.split(", ")??[],this.race=n?.appearance?.race??"",this.gender=n?.appearance?.gender??"",this.eyeColor=n?.appearance?n?.appearance["eye-color"]??"":"",this.hairColor=n?.appearance?n?.appearance["hair-color"]??"":"",this.height=parseInt(n?.appearance?.height[1]??""),this.weight=parseInt(n?.appearance?.weight[1]??""),this.aliases=n?.biography?.aliases??[],this.publisher=n?.biography?.publisher??"",this.alignment=n?.biography?.alignment??"",this.fullName=n?.biography?n?.biography["full-name"]??"":"",this.alterEgo=n?.biography?n?.biography["alter-egos"]??"":"",this.debute=n?.biography?n?.biography["first-appearance"]??"":"",this.birthPlace=n?.biography?n?.biography["place-of-birth"]??"":"",this.stats=new t.j(n?.powerstats),this.relatives=n?.connections?.relatives?.split(", ")??[],this.affiliations=n?.connections?n?.connections["group-affiliation"]?.split(", ")??[]:[],this.favorite=g}}},5454:(m,u,o)=>{o.d(u,{G:()=>r});var t=o(5861),s=o(5374),a=o(2340),n=o(3905),g=o(4128),h=o(4004),_=o(4028),p=o(663),e=o(4650),c=o(529),i=o(2997);class r{constructor(d,l){this.http=d,this.store=l}loadFavorites(d){var l=this;return new Promise(function(){var O=(0,t.Z)(function*(v,b){(0,n.z)((0,g.D)(d.map(f=>l.http.get(`${a.N.api.superheroes}/${f}`))).pipe((0,h.U)(f=>f.map(P=>new p.j(P,!0))))).then(f=>v(f)).catch(()=>b())});return function(v,b){return O.apply(this,arguments)}}())}favoriteSuperhero(d){var l=this;return new Promise(function(){var O=(0,t.Z)(function*(v,b){const f=yield(0,n.z)(l.store.select(s.nR)),P=yield(0,n.z)(l.http.get(`${a.N.api.auth}/users/${f}`)),M=Array.from(new Set([...P.favorites,d])),x={...P,favorites:M};(0,n.z)(l.http.put(`${a.N.api.auth}/users/${f}`,x)).then(()=>{l.store.dispatch((0,_.Vx)({favorites:M})),v()}).catch(()=>b())});return function(v,b){return O.apply(this,arguments)}}())}unfavoriteSuperhero(d){var l=this;return new Promise(function(){var O=(0,t.Z)(function*(v,b){const f=yield(0,n.z)(l.store.select(s.nR)),P=yield(0,n.z)(l.http.get(`${a.N.api.auth}/users/${f}`)),M=Array.from(new Set([...P.favorites,d])).filter(y=>y!==d),x={...P,favorites:M};(0,n.z)(l.http.put(`${a.N.api.auth}/users/${f}`,x)).then(()=>{l.store.dispatch((0,_.Vx)({favorites:M})),v()}).catch(()=>b())});return function(v,b){return O.apply(this,arguments)}}())}}r.\u0275fac=function(d){return new(d||r)(e.LFG(c.eN),e.LFG(i.yh))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})},9080:(m,u,o)=>{o.d(u,{T:()=>a});const a=(0,o(2997).P1)(n=>n.favorites,n=>n.favorites)},5861:(m,u,o)=>{function t(a,n,g,h,_,p,e){try{var c=a[p](e),i=c.value}catch(r){return void g(r)}c.done?n(i):Promise.resolve(i).then(h,_)}function s(a){return function(){var n=this,g=arguments;return new Promise(function(h,_){var p=a.apply(n,g);function e(i){t(p,h,_,e,c,"next",i)}function c(i){t(p,h,_,e,c,"throw",i)}e(void 0)})}}o.d(u,{Z:()=>s})}}]);