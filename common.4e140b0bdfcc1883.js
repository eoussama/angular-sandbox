"use strict";(self.webpackChunkangular_sandbox=self.webpackChunkangular_sandbox||[]).push([[592],{1354:(m,p,o)=>{o.d(p,{r:()=>u});var t=o(4650),a=o(6895);function e(s,_){if(1&s&&(t.ynx(0),t.TgZ(1,"span",2),t._uU(2),t.qZA(),t.TgZ(3,"span",3),t._uU(4),t.qZA(),t.BQk()),2&s){const r=t.oxw();t.xp6(2),t.Oqu(r.icon),t.xp6(2),t.Oqu(r.label)}}function n(s,_){if(1&s&&(t.ynx(0),t.TgZ(1,"span",4),t._uU(2),t.qZA(),t.TgZ(3,"span",3),t._uU(4),t.qZA(),t.BQk()),2&s){const r=t.oxw();t.xp6(2),t.Oqu(r.loadingIcon),t.xp6(2),t.Oqu(r.loadingLabel)}}const l=function(s,_,r){return{"button--full":s,"button--icon":_,"button--loading":r}};class u{constructor(){this.icon="",this.label="",this.full=!1,this.loading=!1,this.loadingLabel="Loading...",this.loadingIcon="hourglass_top",this.click=new t.vpe}hasIcon(){return this.icon.length>0}}u.\u0275fac=function(_){return new(_||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-button"]],inputs:{label:"label",icon:"icon",full:"full",loading:"loading",loadingIcon:"loadingIcon",loadingLabel:"loadingLabel"},outputs:{click:"click"},decls:3,vars:8,consts:[[1,"button",3,"ngClass","disabled"],[4,"ngIf"],[1,"material-symbols-outlined","button__icon"],[1,"button__label"],[1,"material-symbols-outlined","button__icon","button__icon--spin"]],template:function(_,r){1&_&&(t.TgZ(0,"button",0),t.YNc(1,e,5,2,"ng-container",1),t.YNc(2,n,5,2,"ng-container",1),t.qZA()),2&_&&(t.Q6J("ngClass",t.kEZ(4,l,r.full,r.hasIcon(),r.loading))("disabled",r.loading),t.xp6(1),t.Q6J("ngIf",!r.loading),t.xp6(1),t.Q6J("ngIf",r.loading))},dependencies:[a.mk,a.O5],styles:[".button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:5px;padding:20px 50px;max-height:45px;color:#fff;background-color:#000;font-weight:400;font-family:Noto Sans Display,sans-serif;transition-duration:.2s;transition-property:background-color outline;display:flex;align-items:center;justify-content:center}.button__icon[_ngcontent-%COMP%]{opacity:0;font-size:22px;min-width:20px;margin-left:-20px;transition-duration:.2s;transition-property:margin opacity}.button__icon--spin[_ngcontent-%COMP%]{opacity:1;margin-left:0;animation-name:_ngcontent-%COMP%_spin;animation-duration:2s;animation-timing-function:linear;animation-iteration-count:infinite}.button__button[_ngcontent-%COMP%]{transition-duration:.2s;transition-property:margin-left}.button[_ngcontent-%COMP%]:disabled{opacity:.8}.button[_ngcontent-%COMP%]:hover{background-color:#141414}.button[_ngcontent-%COMP%]:hover   .button__icon[_ngcontent-%COMP%]{opacity:1;margin-left:0}.button[_ngcontent-%COMP%]:hover   .button__label[_ngcontent-%COMP%]{margin-left:5px}.button[_ngcontent-%COMP%]:not(.button--icon)   .button__icon[_ngcontent-%COMP%]{display:none}.button--full[_ngcontent-%COMP%]{width:100%;padding:20px}.button--loading[_ngcontent-%COMP%]   .button__label[_ngcontent-%COMP%]{margin-left:5px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})},5632:(m,p,o)=>{o.d(p,{h:()=>e});var t=o(6895),a=o(4650);class e{}e.\u0275fac=function(l){return new(l||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[t.ez]})},8868:(m,p,o)=>{o.d(p,{R:()=>u});var t=o(2340),a=o(4650),e=o(6895),n=o(1121);function l(s,_){1&s&&(a.TgZ(0,"li",3),a._UZ(1,"app-thumb",4),a.qZA()),2&s&&(a.xp6(1),a.Q6J("loader",!0))}class u{constructor(){this.items=[],this.count=t.N.pageSize}ngOnInit(){this.generateCards()}ngOnChanges(_){"count"in _&&this.generateCards()}generateCards(){this.items=[...Array(this.count)]}}u.\u0275fac=function(_){return new(_||u)},u.\u0275cmp=a.Xpm({type:u,selectors:[["app-loader"]],inputs:{count:"count"},features:[a.TTD],decls:3,vars:1,consts:[[1,"loader"],[1,"items"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[3,"loader"]],template:function(_,r){1&_&&(a.TgZ(0,"div",0)(1,"ul",1),a.YNc(2,l,2,1,"li",2),a.qZA()()),2&_&&(a.xp6(2),a.Q6J("ngForOf",r.items))},dependencies:[e.sg,n.N],styles:[".loader[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{display:grid;grid-gap:30px;grid-template-columns:repeat(5,1fr);margin:0;padding:0;list-style-type:none}"]})},40:(m,p,o)=>{o.d(p,{q:()=>n});var t=o(6895),a=o(1251),e=o(4650);class n{}n.\u0275fac=function(u){return new(u||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[t.ez,a.P]})},1121:(m,p,o)=>{o.d(p,{N:()=>r});var t=o(4650),a=o(5182),e=o(5454),n=o(6895);function l(g,c){if(1&g){const i=t.EpF();t.TgZ(0,"span",8),t.NdJ("click",function(h){t.CHM(i);const d=t.oxw(2);return t.KtG(d.onFavorite(h))}),t._uU(1," heart_plus "),t.qZA()}}function u(g,c){if(1&g){const i=t.EpF();t.TgZ(0,"span",8),t.NdJ("click",function(h){t.CHM(i);const d=t.oxw(2);return t.KtG(d.onUnfavorite(h))}),t._uU(1," favorite "),t.qZA()}}function s(g,c){if(1&g&&(t.ynx(0),t.TgZ(1,"span",2),t._uU(2),t.qZA(),t._UZ(3,"img",3),t.TgZ(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",6),t.YNc(8,l,2,0,"span",7),t.YNc(9,u,2,0,"span",7),t.qZA()(),t.BQk()),2&g){const i=t.oxw();t.xp6(2),t.hij("#",i.superhero.id,""),t.xp6(1),t.Q6J("src",i.superhero.image,t.LSH)("alt",i.superhero.name+"'s picture"),t.xp6(3),t.Oqu(i.superhero.name),t.xp6(2),t.Q6J("ngIf",!i.superhero.favorite),t.xp6(1),t.Q6J("ngIf",i.superhero.favorite)}}const _=function(g,c){return{"card--loading":g,"card--favorited":c}};class r{constructor(c,i){this.router=c,this.favorites=i,this.loader=!1}onFavorite(c){c.stopPropagation(),this.superhero.favorite=!0,this.favorites.favoriteSuperhero(this.superhero.id)}onUnfavorite(c){c.stopPropagation(),this.superhero.favorite=!1,this.favorites.unfavoriteSuperhero(this.superhero.id)}onClick(){this.router.navigate(["dash","superheroes",this.superhero.id])}isFavorited(){return this.superhero?.favorite}getId(){return this.superhero?.id.toString()}}r.\u0275fac=function(c){return new(c||r)(t.Y36(a.F0),t.Y36(e.G))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-thumb"]],inputs:{superhero:"superhero",loader:"loader"},decls:2,vars:6,consts:[[1,"card",3,"id","ngClass","click"],[4,"ngIf"],[1,"card__id"],["loading","lazy",1,"card__image",3,"src","alt"],[1,"card__content"],[1,"card__title"],[1,"card__favorite"],["class","material-symbols-outlined",3,"click",4,"ngIf"],[1,"material-symbols-outlined",3,"click"]],template:function(c,i){1&c&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return i.onClick()}),t.YNc(1,s,10,6,"ng-container",1),t.qZA()),2&c&&(t.Q6J("id","superheroe-"+i.getId())("ngClass",t.WLB(3,_,i.loader,i.isFavorited())),t.xp6(1),t.Q6J("ngIf",!i.loader))},dependencies:[n.mk,n.O5],styles:[".card[_ngcontent-%COMP%]{--color-favorite: rgb(223, 93, 93);cursor:pointer;overflow:hidden;position:relative;width:200px;height:280px;border-radius:8px;box-shadow:0 4px 10px #0000006b;transition-duration:.2s;transition-property:transform}.card__id[_ngcontent-%COMP%]{top:10px;left:10px;position:absolute;z-index:1;opacity:.6;color:#fff;text-shadow:2px 2px #000000,-2px -2px #000000;font-size:46px;font-family:Bangers}.card__favorite[_ngcontent-%COMP%]{bottom:4px;right:10px;position:absolute;z-index:1;opacity:0;color:#fff;-webkit-user-select:none;user-select:none;transition-duration:.2s;transition-property:opacity color transform}.card__favorite[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.card__favorite[_ngcontent-%COMP%]:hover{color:var(--color-favorite);transform:scale(1.1)}.card__content[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;left:0}.card__image[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition-duration:3s;transition-property:transform;transition-timing-function:ease-out}.card__title[_ngcontent-%COMP%]{color:#fff;background-color:#272727af;padding:12px 10px;border-radius:5px;font-size:20px;font-weight:300}.card--loading[_ngcontent-%COMP%]{animation-duration:1.5s;animation-name:_ngcontent-%COMP%_loadCard;animation-fill-mode:forwards;animation-timing-function:linear;animation-iteration-count:infinite;box-shadow:0 2px 30px #0001;background-size:100% 200%;background-image:linear-gradient(to bottom,rgb(216,216,216),#ffffff,rgb(216,216,216))}.card--favorited[_ngcontent-%COMP%]{outline:3px solid var(--color-favorite)}.card--favorited[_ngcontent-%COMP%]   .card__favorite[_ngcontent-%COMP%]{opacity:1;color:var(--color-favorite)}.card[_ngcontent-%COMP%]:hover:not(.card--loading){transform:scale(1.05)}.card[_ngcontent-%COMP%]:hover:not(.card--loading)   .card__image[_ngcontent-%COMP%]{transform:scale(1.2)}.card[_ngcontent-%COMP%]:hover:not(.card--loading)   .card__favorite[_ngcontent-%COMP%]{opacity:1}@keyframes _ngcontent-%COMP%_loadCard{0%{background-position-y:0%}to{background-position-y:200%}}"]})},1251:(m,p,o)=>{o.d(p,{P:()=>e});var t=o(6895),a=o(4650);class e{}e.\u0275fac=function(l){return new(l||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[t.ez]})},4266:(m,p,o)=>{o.d(p,{j:()=>t});class t{constructor(e){this.combat=parseInt(e?.combat),this.durability=parseInt(e?.durability),this.intelligence=parseInt(e?.intelligence),this.power=parseInt(e?.power),this.speed=parseInt(e?.speed),this.strength=parseInt(e?.strength)}}},663:(m,p,o)=>{o.d(p,{j:()=>a});var t=o(4266);class a{constructor(n,l=!1){this.name=n?.name??"",this.id=parseInt(n?.id??""),this.image=n?.image?.url??"",this.occupation=n?.work?.occupation??"",this.bases=n?.work?.base?.split(", ")??[],this.race=n?.appearance?.race??"",this.gender=n?.appearance?.gender??"",this.eyeColor=n?.appearance?n?.appearance["eye-color"]??"":"",this.hairColor=n?.appearance?n?.appearance["hair-color"]??"":"",this.height=parseInt(n?.appearance?.height[1]??""),this.weight=parseInt(n?.appearance?.weight[1]??""),this.aliases=n?.biography?.aliases??[],this.publisher=n?.biography?.publisher??"",this.alignment=n?.biography?.alignment??"",this.fullName=n?.biography?n?.biography["full-name"]??"":"",this.alterEgo=n?.biography?n?.biography["alter-egos"]??"":"",this.debute=n?.biography?n?.biography["first-appearance"]??"":"",this.birthPlace=n?.biography?n?.biography["place-of-birth"]??"":"",this.stats=new t.j(n?.powerstats),this.relatives=n?.connections?.relatives?.split(", ")??[],this.affiliations=n?.connections?n?.connections["group-affiliation"]?.split(", ")??[]:[],this.favorite=l}}},5454:(m,p,o)=>{o.d(p,{G:()=>i});var t=o(5861),a=o(5374),e=o(2340),n=o(3905),l=o(4128),u=o(4004),s=o(4028),_=o(663),r=o(4650),g=o(529),c=o(2997);class i{constructor(h,d){this.http=h,this.store=d}loadFavorites(h){var d=this;return new Promise(function(){var M=(0,t.Z)(function*(v,O){(0,n.z)((0,l.D)(h.map(f=>d.http.get(`${e.N.api.superheroes}/${f}`))).pipe((0,u.U)(f=>f.map(P=>new _.j(P,!0))))).then(f=>v(f)).catch(()=>O())});return function(v,O){return M.apply(this,arguments)}}())}favoriteSuperhero(h){var d=this;return new Promise(function(){var M=(0,t.Z)(function*(v,O){const f=yield(0,n.z)(d.store.select(a.nR)),P=yield(0,n.z)(d.http.get(`${e.N.api.auth}/users/${f}`)),C=Array.from(new Set([...P.favorites,h])),E={...P,favorites:C};(0,n.z)(d.http.put(`${e.N.api.auth}/users/${f}`,E)).then(()=>{d.store.dispatch((0,s.Vx)({favorites:C})),v()}).catch(()=>O())});return function(v,O){return M.apply(this,arguments)}}())}unfavoriteSuperhero(h){var d=this;return new Promise(function(){var M=(0,t.Z)(function*(v,O){const f=yield(0,n.z)(d.store.select(a.nR)),P=yield(0,n.z)(d.http.get(`${e.N.api.auth}/users/${f}`)),C=Array.from(new Set([...P.favorites,h])).filter(y=>y!==h),E={...P,favorites:C};(0,n.z)(d.http.put(`${e.N.api.auth}/users/${f}`,E)).then(()=>{d.store.dispatch((0,s.Vx)({favorites:C})),v()}).catch(()=>O())});return function(v,O){return M.apply(this,arguments)}}())}}i.\u0275fac=function(h){return new(h||i)(r.LFG(g.eN),r.LFG(c.yh))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})},9080:(m,p,o)=>{o.d(p,{T:()=>e});const e=(0,o(2997).P1)(n=>n.favorites,n=>n.favorites)},5861:(m,p,o)=>{function t(e,n,l,u,s,_,r){try{var g=e[_](r),c=g.value}catch(i){return void l(i)}g.done?n(c):Promise.resolve(c).then(u,s)}function a(e){return function(){var n=this,l=arguments;return new Promise(function(u,s){var _=e.apply(n,l);function r(c){t(_,u,s,r,g,"next",c)}function g(c){t(_,u,s,r,g,"throw",c)}r(void 0)})}}o.d(p,{Z:()=>a})}}]);